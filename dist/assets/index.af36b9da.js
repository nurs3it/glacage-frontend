import{P as N,d as a,j as n,a as w,S as f,u as S,b as k,c as T,T as E,U as F,r as C,Q as G,F as x}from"./index.6d5ea256.js";import{P as M}from"./index.3534371a.js";import{G as h,T as d,S as p}from"./index.5b485e58.js";import{I as P}from"./index.bb1d5e00.js";const j="FTf7o",A="dZjwg",D="ePlu5",I="qEcWx",y="NlDgB",B="V-0JG";var e={root:j,wrapper:A,image:D,action:I,title:y,subtitle:B};const q=({category:s,id:i})=>{const o=N(),c=()=>o(`/catalog/${i}`);return a(h,{className:e.root,item:!0,xs:12,md:4,sm:6,children:n("div",{className:e.wrapper,onClick:c,children:[a(M,{className:e.image,image:s.background.data}),n("div",{className:e.action,children:[a(d,{variant:"h6",className:e.title,children:s.name}),a(d,{variant:"subtitle1",className:e.subtitle,children:"\u043F\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0440\u0430\u0437\u0434\u0435\u043B"})]})]})})},r=()=>a(h,{className:e.root,item:!0,xs:12,md:4,sm:6,children:n("div",{className:e.wrapper,children:[a(p,{sx:{height:"100%",width:"100%"},animation:"wave",variant:"rectangular"}),n("div",{className:e.action,children:[a(p,{animation:"wave",sx:{margin:"0 auto"},width:"50%",children:a(d,{variant:"h4",children:"."})}),a(p,{animation:"wave",sx:{margin:"0 auto"},width:"30%",children:a(d,{children:"."})})]})]})}),X=()=>w.get("/api/categories?populate=*&pagination[pageSize]="+f),Z=s=>{const i=S(),{categories:o,categoriesMeta:c}=k(t=>t.categories),m=t=>i(E(t)),l=t=>i(F(t)),{runAsync:g,loading:u,error:b}=T(X,{manual:!0,onSuccess:t=>{m(t.data.data),l(t.data.meta)}}),v=C.exports.useCallback(()=>{s&&g().then(t=>t)},[g,s]);return C.exports.useEffect(()=>{v()},[v]),{categories:o,categoriesMeta:c,loading:u,error:b}},_="oisXT";var $={button:_};const U=()=>{const s=N(),{pathname:i}=G(),{categories:o,loading:c,error:m,categoriesMeta:l}=Z(!0),g=()=>s("/catalog");return a(h,{container:!0,children:c||m?n(x,{children:[a(r,{}),a(r,{}),a(r,{}),a(r,{}),a(r,{}),a(r,{})]}):n(x,{children:[o.slice(0,6).map(u=>a(q,{id:u.id,category:u.attributes},u.id)),i==="/"&&l.pagination&&l.pagination.total>6&&a(P,{onClick:g,className:$.button,variant:"text",children:"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u0435\u0449\u0435"})]})})};export{U as C};
